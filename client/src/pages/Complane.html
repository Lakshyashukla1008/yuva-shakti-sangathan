<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complane</title>
    <link rel="stylesheet" href="/client/src/style/css/Complane.css">
</head>

<body>
    <div id="Header-placeholder"></div>

    <h1 class="Head">E-Complaint</h1>
    <form action="submit_complaint.php" method="POST">
        <!-- Name Section -->
        <div>
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" placeholder="Enter your full name" required>
        </div>

        <!-- Address Section -->
        <div>
            <label for="house">House No:</label>
            <input type="text" id="house" name="house" maxlength="35" placeholder="Enter your house number" required>
        </div>

        <!-- City and State (Uncommented) -->
        <div>
            <label for="city">City:</label>
            <select name="city" id="city" required>
                <option value="" disabled selected>Select City</option>
                <option value="Sahibabad">Sahibabad</option>
                <option value="Ghaziabad">Ghaziabad</option>
                <option value="Delhi">Delhi</option>
            </select>
        </div>

        <!-- Complaint Section -->
        <div>
            <label for="complain">Complaint Box:</label>
            <textarea name="complaint" id="complain" maxlength="1000"
                placeholder="Write your complaint here (max 1000 characters)" required></textarea>
        </div>

        <!-- Submit Button -->
        <div>
            <button class="but" type="submit">Submit</button>
        </div>
    </form>

    <div id="footer-placeholder"></div>

    <script>
        const Name = localStorage.getItem("FirstName") || "";
        const Lname = localStorage.getItem("LastName") || "";
        const House = localStorage.getItem("House") || "";
        const city = localStorage.getItem("City") || "";


        document.getElementById("name").value = `${Name} ${Lname}`;
        document.getElementById("house").value = House;
        document.getElementById("city").value = city;

    </script>

    <!-- Java script -->
    <script>
        const button = document.querySelector(".but");
        button.addEventListener('click', () => {
            const name = document.getElementById("name").value.trim();
            const Address = document.getElementById("house").value.trim();
            const city = document.getElementById("city").value.trim();
            const Complaint = document.getElementById("complain").value.trim();


            missingFields = [];

            if (name === '') missingFields.push("Name");
            if (Address === '') missingFields.push("Address");
            if (city === '') missingFields.push("City");
            if (Complaint === '') missingFields.push("Complaint");

            if (missingFields.length > 0) {
                event.preventDefault();
                alert("Please fill in all firlds:\n-" + missingFields.join("\n-"));
            }
        });
    </script>


</body>

</html>